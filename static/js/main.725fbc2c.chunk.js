(this.webpackJsonptest_todo=this.webpackJsonptest_todo||[]).push([[0],{142:function(e,t,a){e.exports={tableSortIcons:"SortButton_tableSortIcons__32JOc"}},166:function(e,t,a){},290:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(11),s=a.n(c),o=(a(166),a(21)),i=a(95),u=a.n(i),l=a(14),j=a(13),d=a(136),b=function(e){return e.app.status},O=function(e){return e.app.error},p=function(e){return e.app.totalTaskCount},h=function(e){return e.app.getMeData.page},x=function(e){return e.app.token},m=Object(d.a)([function(e){return e.app.tasks}],(function(e){return e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{status:f(e.status)})}))})),f=function(e){switch(e){case 0:return"\u0437\u0430\u0434\u0430\u0447\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430";case 1:return"\u0437\u0430\u0434\u0430\u0447\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430, \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0430\u0434\u043c\u0438\u043d\u043e\u043c";case 10:return"\u0437\u0430\u0434\u0430\u0447\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430";case 11:return"\u0437\u0430\u0434\u0430\u0447\u0430 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0430\u0434\u043c\u0438\u043d\u043e\u043c \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430";default:return"\u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u0437\u0430\u0434\u0430\u0447\u0435"}},v=a(345),g=a(342),k=a(16),C=a.n(k),T=a(24),S=a(137),_=a.n(S).a.create({baseURL:"https://uxcandy.com/~shapoval/test-task-backend/v2/",headers:{"Content-Type":"multipart/form-data"}}),E="EvgenyPotapov",w=function(e,t){var a=new FormData;return a.append("username",e),a.append("password",t),_.post("/login?developer=JON.",a).then((function(e){return e.data}))},N=function(e){return _.get("?developer=".concat(E,"."),{params:e}).then((function(e){return e.data}))},y=function(e){var t=new FormData;return t.append("username",e.userName),t.append("text",e.text),t.append("email",e.email),_.post("create?developer=".concat(E,"."),t).then((function(e){return e.data}))},A=function(e,t,a,r){var n=new FormData;return n.append("token",e),n.append("text",a),n.append("status",r),_.post("edit/".concat(t,"?developer=").concat(E,"."),n).then((function(e){return e.data}))},P={status:"succeeded",error:null,tasks:[],totalTaskCount:0,getMeData:{page:1,sort_field:"",sort_direction:""},token:""},D=function(e){return{type:"APP/SET_STATUS",status:e}},R=function(e){return{type:"APP/SET_ERROR",error:e}},M=function(e){return{type:"APP/SET_SORT_DATA",data:e}},I=function(e,t){return{type:"APP/SET_ERROR_RESPONSE",error:e,status:t}},F=function(){return function(){var e=Object(T.a)(C.a.mark((function e(t,a){var r,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(D("loading")),r=a().app.getMeData,e.next=5,N(r);case 5:"ok"===(n=e.sent).status?(t({type:"APP/SET_TASKS",tasks:n.message.tasks}),t({type:"APP/SET_TOTAL_CARDS_COUNT",totalTaskCount:Number(n.message.total_task_count)})):t(R(n.message)),t(D("succeeded")),e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(0),t(I("Error from getMe response","succeeded")),new Error("Error from getMe response");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(T.a)(C.a.mark((function t(a){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(D("loading")),t.next=4,y(e);case 4:"error"===(r=t.sent).status&&a(R(JSON.stringify(r.message))),a(D("succeeded")),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),a(I("Error from addTask response","succeeded")),new Error("Error from addTask response");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},J=function(e,t){return function(){var a=Object(T.a)(C.a.mark((function a(r){var n;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w(e,t);case 3:"ok"===(n=a.sent).status?r({type:"APP/SET_TOKEN",token:n.message.token}):r(R(JSON.stringify(n.message))),r(D("succeeded")),a.next=12;break;case 8:throw a.prev=8,a.t0=a.catch(0),r(I("Error from login response","succeeded")),new Error("Error from login response");case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},U=function(e,t,a){return function(){var r=Object(T.a)(C.a.mark((function r(n,c){var s,o;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(D("loading")),s=c().app.token,r.next=5,A(s,e,t,a);case 5:"error"===(o=r.sent).status&&n(R(JSON.stringify(o.message))),n(D("succeeded")),r.next=14;break;case 10:throw r.prev=10,r.t0=r.catch(0),n(I("Error from updateTask response","succeeded")),new Error("Error from updateTask response");case 14:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e,t){return r.apply(this,arguments)}}()},K=a(3);function q(e){return Object(K.jsx)(g.a,Object(j.a)({elevation:6,variant:"filled"},e))}var L=n.a.memo((function(){var e=Object(l.b)(),t=function(t,a){"clickaway"!==a&&e(R(null))},a=Object(l.c)((function(e){return e.app.error}));return Object(K.jsx)(v.a,{open:!0,autoHideDuration:6e3,onClose:t,children:Object(K.jsx)(q,{onClose:t,severity:"error",children:a})})})),V=a(338),G=a(339),H=a(331),W=a(340),z=a(332),Y=a(333),X=a(334),Q=a(335),Z=a(336),$=a(337),ee=a(343),te=a(144),ae=a.n(te),re=a(143),ne=a.n(re),ce=a(142),se=a.n(ce),oe=n.a.memo((function(e){var t=e.name,a=Object(l.b)(),n=Object(r.useCallback)((function(){a(M({sort_field:t,sort_direction:"asc"})),a(F())}),[]),c=Object(r.useCallback)((function(){a(M({sort_field:t,sort_direction:"desc"})),a(F())}),[]);return Object(K.jsxs)("div",{className:se.a.tableSortIcons,children:[Object(K.jsx)(ne.a,{color:"primary",onClick:c}),Object(K.jsx)(ae.a,{color:"primary",onClick:n})]})})),ie=a(50),ue=a.n(ie),le=a(150),je=a.n(le),de=a(151),be=a.n(de),Oe=a(341),pe=a(346),he=a(330),xe=a(347),me=a(47),fe=a(25),ve={userName:"",email:"",text:""},ge=fe.a({userName:fe.b().required("\u044d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),email:fe.b().email("Invalid email").required("\u044d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),text:fe.b().required("\u044d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f")}),ke=n.a.memo((function(e){var t=e.NewTaskDialogClose,a=Object(l.b)(),n=Object(r.useCallback)((function(){t(!1)}),[]),c=Object(me.a)({initialValues:ve,validationSchema:ge,onSubmit:function(){var e=Object(T.a)(C.a.mark((function e(r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(B(r));case 2:t(!0),c.resetForm();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(K.jsx)("div",{children:Object(K.jsxs)(pe.a,{open:!0,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(K.jsx)(xe.a,{id:"form-dialog-title",children:"CREATE TASK"}),Object(K.jsx)(he.a,{children:Object(K.jsxs)("form",{onSubmit:c.handleSubmit,children:[Object(K.jsx)("div",{children:Object(K.jsx)(Oe.a,{name:"userName",value:c.values.userName,placeholder:"userName",onChange:c.handleChange,error:c.touched.userName&&Boolean(c.errors.userName),helperText:c.touched.userName&&c.errors.userName})}),Object(K.jsx)("div",{children:Object(K.jsx)(Oe.a,{name:"email",value:c.values.email,placeholder:"email",onChange:c.handleChange,error:c.touched.email&&Boolean(c.errors.email),helperText:c.touched.email&&c.errors.email})}),Object(K.jsx)("div",{children:Object(K.jsx)(Oe.a,{name:"text",value:c.values.text,placeholder:"text",onChange:c.handleChange,error:c.touched.text&&Boolean(c.errors.text),helperText:c.touched.text&&c.errors.text})}),Object(K.jsx)(H.a,{variant:"outlined",onClick:n,children:"Cancel"}),Object(K.jsx)(H.a,{variant:"outlined",type:"submit",children:"CREATE"})]})})]})})})),Ce=n.a.memo((function(e){var t=e.changeStatusDialogClose,a=e.text,n=e.status,c=e.id,s=Object(l.b)(),o=Object(r.useCallback)((function(){t(!1)}),[]),i=function(){var e=Object(T.a)(C.a.mark((function e(){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="\u0437\u0430\u0434\u0430\u0447\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430"===n?"10":"11",e.next=3,s(U(c,a,r));case 3:t(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsx)("div",{children:Object(K.jsxs)(pe.a,{open:!0,onClose:o,"aria-labelledby":"form-dialog-title",children:[Object(K.jsx)(xe.a,{id:"form-dialog-title",children:"Change status"}),Object(K.jsxs)(he.a,{children:[Object(K.jsx)(H.a,{variant:"outlined",onClick:o,children:"Cancel"}),Object(K.jsx)(H.a,{variant:"outlined",onClick:i,children:"Change"})]})]})})})),Te=fe.a({text:fe.b().required("\u044d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f")}),Se=n.a.memo((function(e){var t=e.changeTextDialogClose,a=e.text,n=e.id,c=Object(l.b)(),s=Object(r.useCallback)((function(){t(!1)}),[]),o=Object(me.a)({initialValues:{text:a},validationSchema:Te,onSubmit:function(){var e=Object(T.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(U(n,a.text,"1"));case 2:t(!0),o.resetForm();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(K.jsx)("div",{children:Object(K.jsxs)(pe.a,{open:!0,onClose:s,"aria-labelledby":"form-dialog-title",children:[Object(K.jsx)(xe.a,{id:"form-dialog-title",children:"CHANGE TEXT"}),Object(K.jsx)(he.a,{children:Object(K.jsxs)("form",{onSubmit:o.handleSubmit,children:[Object(K.jsx)("div",{children:Object(K.jsx)(Oe.a,{name:"text",value:o.values.text,placeholder:"password",onChange:o.handleChange,error:o.touched.text&&Boolean(o.errors.text),helperText:o.touched.text&&o.errors.text})}),Object(K.jsx)(H.a,{variant:"outlined",onClick:s,children:"Cancel"}),Object(K.jsx)(H.a,{variant:"outlined",type:"submit",children:"Change"})]})})]})})})),_e=n.a.memo((function(){var e=Object(l.b)(),t=Object(l.c)(m),a=Object(l.c)(p),c=Object(l.c)(h),s=Object(l.c)(x),i=Math.ceil(a/3),u=n.a.useState(!1),j=Object(o.a)(u,2),d=j[0],b=j[1],O=n.a.useState(!1),f=Object(o.a)(O,2),v=f[0],g=f[1],k=n.a.useState(!1),C=Object(o.a)(k,2),T=C[0],S=C[1],_=n.a.useState(0),E=Object(o.a)(_,2),w=E[0],N=E[1],y=n.a.useState(""),A=Object(o.a)(y,2),P=A[0],D=A[1],R=n.a.useState(0),M=Object(o.a)(R,2),I=M[0],B=M[1];Object(r.useEffect)((function(){e(F())}),[e]);var J=Object(r.useCallback)((function(t,a){e(function(e){return{type:"APP/SET_CURRENT_PAGE",currentPage:e}}(a)),e(F())}),[]),U=Object(r.useCallback)((function(){b(!0)}),[]),q=Object(r.useCallback)((function(t){b(!1),!0===t&&e(F())}),[]),L=Object(r.useCallback)((function(e,t){g(!0),N(e),D(t)}),[]),V=Object(r.useCallback)((function(t){g(!1),!0===t&&e(F())}),[]),G=Object(r.useCallback)((function(e,t,a){S(!0),N(e),D(t),B(a)}),[]),W=Object(r.useCallback)((function(t){S(!1),!0===t&&e(F())}),[]);return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(z.a,{children:[Object(K.jsxs)(Y.a,{"aria-label":"simple table",children:[Object(K.jsx)(X.a,{children:Object(K.jsxs)(Q.a,{children:[Object(K.jsx)(Z.a,{children:Object(K.jsxs)("h2",{children:["ID",Object(K.jsx)(oe,{name:"id"})]})}),Object(K.jsx)(Z.a,{children:Object(K.jsxs)("h2",{children:["username",Object(K.jsx)(oe,{name:"username"})]})}),Object(K.jsx)(Z.a,{children:Object(K.jsxs)("h2",{children:["email",Object(K.jsx)(oe,{name:"email"})]})}),Object(K.jsx)(Z.a,{className:ue.a.text,children:Object(K.jsx)("h2",{children:"text"})}),Object(K.jsx)(Z.a,{children:Object(K.jsxs)("h2",{children:["status",Object(K.jsx)(oe,{name:"status"})]})})]})}),Object(K.jsx)($.a,{children:t.map((function(e){return Object(K.jsxs)(Q.a,{children:[Object(K.jsx)(Z.a,{align:"center",children:e.id}),Object(K.jsx)(Z.a,{align:"center",children:e.username}),Object(K.jsx)(Z.a,{align:"center",children:e.email}),Object(K.jsxs)(Z.a,{align:"center",children:[s&&Object(K.jsx)(je.a,{color:"secondary",className:ue.a.iconText,onClick:function(){return L(e.id,e.text)}}),e.text]}),Object(K.jsxs)(Z.a,{align:"center",className:ue.a.status,children:[e.status,s&&("\u0437\u0430\u0434\u0430\u0447\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430"===e.status||"\u0437\u0430\u0434\u0430\u0447\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430, \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0430\u0434\u043c\u0438\u043d\u043e\u043c"===e.status)&&Object(K.jsx)(be.a,{className:ue.a.statusIcon,color:"secondary",onClick:function(){return G(e.id,e.text,e.status)}})]})]},e.id)}))})]}),Object(K.jsx)(ee.a,{count:i,page:c,onChange:J,color:"primary"}),Object(K.jsx)(H.a,{variant:"outlined",onClick:U,children:"ADD NEW TASK"})]}),d&&Object(K.jsx)(ke,{NewTaskDialogClose:q}),v&&Object(K.jsx)(Se,{changeTextDialogClose:V,text:P,id:w}),T&&Object(K.jsx)(Ce,{changeStatusDialogClose:W,text:P,id:w,status:I})]})})),Ee={userName:"admin",password:"123"},we=fe.a({userName:fe.b().required("\u044d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),password:fe.b().required("\u044d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f")}),Ne=n.a.memo((function(e){var t=e.setIsFormDialog,a=Object(l.b)(),n=Object(r.useCallback)((function(){t(!1)}),[]),c=Object(me.a)({initialValues:Ee,validationSchema:we,onSubmit:function(){var e=Object(T.a)(C.a.mark((function e(r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(J(r.userName,r.password));case 2:t(!1),c.resetForm();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(K.jsx)("div",{children:Object(K.jsxs)(pe.a,{open:!0,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(K.jsx)(xe.a,{id:"form-dialog-title",children:"login"}),Object(K.jsx)(he.a,{children:Object(K.jsxs)("form",{onSubmit:c.handleSubmit,children:[Object(K.jsx)("div",{children:Object(K.jsx)(Oe.a,{name:"userName",value:c.values.userName,placeholder:"userName",onChange:c.handleChange,error:c.touched.userName&&Boolean(c.errors.userName),helperText:c.touched.userName&&c.errors.userName})}),Object(K.jsx)("div",{children:Object(K.jsx)(Oe.a,{name:"password",value:c.values.password,placeholder:"password",onChange:c.handleChange,error:c.touched.password&&Boolean(c.errors.password),helperText:c.touched.password&&c.errors.password})}),Object(K.jsx)(H.a,{variant:"outlined",onClick:n,children:"Cancel"}),Object(K.jsx)(H.a,{variant:"outlined",type:"submit",children:"Login"})]})})]})})}));var ye=function(){var e=Object(l.c)(x),t=Object(l.c)(b),a=Object(l.c)(O),c=n.a.useState(!1),s=Object(o.a)(c,2),i=s[0],j=s[1],d=Object(r.useCallback)((function(){j(!0)}),[]);return Object(K.jsxs)("div",{className:u.a.App,children:[null!==a&&Object(K.jsx)("div",{children:Object(K.jsx)(L,{})}),Object(K.jsxs)(V.a,{position:"static",children:[Object(K.jsxs)(G.a,{children:[Object(K.jsx)(H.a,{color:"secondary",variant:"contained",onClick:d,children:" login "}),e?Object(K.jsx)("h2",{children:"\u0412\u044b \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0435\u043d\u044b"}):Object(K.jsx)("h2",{children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043e\u0439\u0442\u0438 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})]}),"loading"===t&&Object(K.jsx)(W.a,{color:"secondary"})]}),Object(K.jsx)(_e,{}),i&&Object(K.jsx)(Ne,{setIsFormDialog:j})]})},Ae=a(56),Pe=a(152),De=a(153),Re=Object(Ae.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET_STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:t.status});case"APP/SET_ERROR":return Object(j.a)(Object(j.a)({},e),{},{error:t.error});case"APP/SET_TASKS":return Object(j.a)(Object(j.a)({},e),{},{tasks:t.tasks});case"APP/SET_TOTAL_CARDS_COUNT":return Object(j.a)(Object(j.a)({},e),{},{totalTaskCount:t.totalTaskCount});case"APP/SET_CURRENT_PAGE":return Object(j.a)(Object(j.a)({},e),{},{getMeData:Object(j.a)(Object(j.a)({},e.getMeData),{},{page:t.currentPage})});case"APP/SET_SORT_DATA":return Object(j.a)(Object(j.a)({},e),{},{getMeData:Object(j.a)(Object(j.a)({},e.getMeData),t.data)});case"APP/SET_TOKEN":return Object(j.a)(Object(j.a)({},e),{},{token:t.token});case"APP/SET_ERROR_RESPONSE":return Object(j.a)(Object(j.a)({},e),{},{status:t.status,error:t.error});default:return e}}}),Me=Object(Ae.createStore)(Re,Object(De.composeWithDevTools)(Object(Ae.applyMiddleware)(Pe.a)));s.a.render(Object(K.jsx)(n.a.StrictMode,{children:Object(K.jsx)(l.a,{store:Me,children:Object(K.jsx)(ye,{})})}),document.getElementById("root"))},50:function(e,t,a){e.exports={text:"Tasks_text__3bYrS",status:"Tasks_status__1jVHz",iconText:"Tasks_iconText__3K-to",statusIcon:"Tasks_statusIcon__386vt"}},95:function(e,t,a){e.exports={App:"App_App__3zaJT",ErrorSnackbar:"App_ErrorSnackbar__UYFWw"}}},[[290,1,2]]]);
//# sourceMappingURL=main.725fbc2c.chunk.js.map